---
import { Image as AstroImage } from "astro:assets";

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpg,jpeg,png,gif,webp,svg}"
);

type Props = {
  image: {
    url: string;
    alt: string;
  };
  className?: string;
} & Omit<Parameters<typeof AstroImage>[0], "class" | "src" | "alt">;

const {
  props: {
    className,
    image: { url, alt },
    ...rest
  },
} = Astro;
---

<AstroImage
  class={className}
  src={images[`/src/assets/${url}`]()}
  alt={alt}
  {...rest}
/>
